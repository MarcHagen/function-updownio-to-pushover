spec:
  name: function-updownio-to-pushover
  functions:
    - name: updownio-to-pushover
      git:
        branch: main
        repo: https://github.com/MarcHagen/function-updownio-to-pushover
      github:
        repo: MarcHagen/function-updownio-to-pushover
        branch: main
        deploy_on_push: true
      routes:
        - path: /
      source_dir: /
      envs:
        - key: PUSHOVER_USER
          value: "pushover user-key"
          type: SECRET
        - key: PUSHOVER_TOKEN
          value: "pushover app-key"
          type: SECRET
  alerts:
    - rule: DEPLOYMENT_FAILED
